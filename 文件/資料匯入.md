# 資料匯入

## 寫程式直接存入
用資料結構`加資料`、`錄母語`、`翻母語`、`寫文本`、`寫聽拍`、`校對做`六種函式存入資料庫。

## 使用現成資料庫dump檔案
sqlite，直接複製資料庫檔。
Postgres請參考專頁。

## 匯入臺灣言語資料庫yaml格式資料
### 資料結構
最上層放公家的變數，像是`來源`、`著作年`、……
`下層`放資料，像是`外語`的「美麗」接`影音`再接`文本`的「媠噹噹」例如下
```yaml
下層:
- 下層:
  - 下層:
    - 屬性:
        音標: suí-tang-tang
      文本資料: 媠噹噹
    原始影音所在: audio/08345.mp3
  外語語言: 華語
  外語資料: 美麗
  種類: 語句
來源:
  名: 教育部閩南語辭典
版權: 姓名標示-禁止改作 3.0 台灣
種類: 字詞
著作年: '2015'
著作所在地: 臺灣
語言腔口: 閩南語
```
若是資料形式無分支（沒有一個外語接兩個影音的情況），會使寫做`相關資料組`，裡面陣列的內容視為依序相關的
```yaml
下層:
- 相關資料組:
  - 外語語言: 華語
    外語資料: 美麗
  - 原始影音所在: audio/08345.mp3
  - 文本資料: 媠噹噹
    屬性:
      音標: hinn7-kiann3 phua3-0khi3-0ah4 .
來源:
  名: 教育部閩南語辭典
版權: 姓名標示-禁止改作 3.0 台灣
種類: 字詞
著作年: '2015'
著作所在地: 臺灣
語言腔口: 閩南語
```

### dump方法
若是在`資料 = { '來源': ... }`，可用以下程式輸出成yaml格式檔
```python3
with open('臺灣言語資料庫語料.yaml','w') as 檔案:
    yaml.dump(資料, 檔案, default_flow_style=False, allow_unicode=True)
```

### 使用Taiwanese-Corpus專案
使用`臺灣言語資料庫`提供的`匯入資料`指令
```bash
python manage.py 匯入資料  [--莫匯入影音] 網址 [網址 ...] 
```
若用途或硬體設備考量，不需要匯入影音，可加入參數` --莫匯入影音`。

#### 臺灣閩南語常用詞辭典
專案[連結](https://github.com/Taiwanese-Corpus/moedict-data-twblg/tree/gh-pages/%E8%BD%89%E5%88%B0%E8%87%BA%E7%81%A3%E8%A8%80%E8%AA%9E%E8%B3%87%E6%96%99%E5%BA%AB)
```bash
python manage.py 匯入資料 https://Taiwanese-Corpus.github.io/moedict-data-twblg/轉到臺灣言語資料庫/資料/xls整理.yaml https://Taiwanese-Corpus.github.io/moedict-data-twblg/轉到臺灣言語資料庫/資料/異用字.yaml
```

#### 教育部臺灣客家語常用詞辭典
專案[連結](https://github.com/Taiwanese-Corpus/moedict-data-hakka/tree/%E8%BD%89%E5%88%B0%E8%87%BA%E7%81%A3%E8%A8%80%E8%AA%9E%E8%B3%87%E6%96%99%E5%BA%AB/%E8%BD%89%E5%88%B0%E8%87%BA%E7%81%A3%E8%A8%80%E8%AA%9E%E8%B3%87%E6%96%99%E5%BA%AB)
```bash
python manage.py 匯入資料 https://Taiwanese-Corpus.github.io/moedict-data-hakka/臺灣客家語常用詞辭典網路版語料.yaml
```

#### 族語E樂園
專案[連結](https://github.com/Taiwanese-Corpus/moedict-data-twblg/tree/gh-pages/%E8%BD%89%E5%88%B0%E8%87%BA%E7%81%A3%E8%A8%80%E8%AA%9E%E8%B3%87%E6%96%99%E5%BA%AB)
```bash
python manage.py 匯入資料 http://Taiwanese-Corpus.github.io/klokah_data_extract/族語E樂園.yaml
```

#### 阿美語方敏英字典Virginia Fey's Amis Dictionary
專案[連結](https://github.com/Taiwanese-Corpus/amis-data)
```bash
python manage.py 匯入資料 http://Taiwanese-Corpus.github.io/amis-data/dict-amis.yaml
```
