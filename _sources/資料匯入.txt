# 資料匯入

## 匯入現有語料
可直接匯入[Taiwanese-Corpus語料專案](http://sih4sing5hong5.github.io/tai5-uan5_gian5-gi2_hok8-bu7/Taiwanese-Corpus%E8%AA%9E%E6%96%99.html)既有yaml格式資料

## 寫程式直接存入
用資料結構`加資料`、`錄母語`、`翻母語`、`寫文本`、`寫聽拍`、`校對做`六種函式存入資料庫。

## 使用現成資料庫dump檔案
sqlite，直接複製資料庫檔。
Postgres請參考專頁。

## 匯入臺灣言語資料庫yaml格式資料

### 匯入方法
使用`臺灣言語資料庫`提供的`匯入資料`指令
```bash
python manage.py 匯入資料  [--莫匯入影音] 網址 [網址 ...] 
```
若用途或硬體設備考量，不需要匯入影音，可加入參數` --莫匯入影音`。

### 資料結構
最上層放公家的變數，像是`來源`、`著作年`、……
`下層`放資料，像是`外語`的「美麗」接`影音`再接`文本`的「媠噹噹」例如下
```yaml
下層:
- 下層:
  - 下層:
    - 屬性:
        音標: suí-tang-tang
      文本資料: 媠噹噹
    原始影音所在: audio/08345.mp3
  外語語言: 華語
  外語資料: 美麗
  種類: 語句
來源:
  名: 教育部閩南語辭典
版權: 姓名標示-禁止改作 3.0 台灣
種類: 字詞
著作年: '2015'
著作所在地: 臺灣
語言腔口: 閩南語
```
若是資料形式無分支（沒有一個外語接兩個影音的情況），會使寫做`相關資料組`，裡面陣列的內容視為依序相關的
```yaml
下層:
- 相關資料組:
  - 外語語言: 華語
    外語資料: 美麗
  - 原始影音所在: audio/08345.mp3
  - 文本資料: 媠噹噹
    屬性:
      音標: hinn7-kiann3 phua3-0khi3-0ah4 .
來源:
  名: 教育部閩南語辭典
版權: 姓名標示-禁止改作 3.0 台灣
種類: 字詞
著作年: '2015'
著作所在地: 臺灣
語言腔口: 閩南語
```

### dump方法
若是在`資料 = { '來源': ... }`，可用以下程式輸出成yaml格式檔
```python3
with open('臺灣言語資料庫語料.yaml','w') as 檔案:
    yaml.dump(資料, 檔案, default_flow_style=False, allow_unicode=True)
```
